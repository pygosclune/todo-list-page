(()=>{"use strict";class e{constructor(e){this.name=e,this.todos=[]}addTodo(e){this.todos.push(e)}removeTodo(e){const t=this.todos.indexOf(e);-1!==t&&this.todos.splice(t,1)}}class t{constructor(e,t,n,d){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.isChecked=!1}}const n=new e("Default");let d=n;const o=new t("Task 1","Description for task 1","2023-12-31","high"),c=new t("Task 2","Description for task 2","2023-12-15","medium");n.addTodo(o),n.addTodo(c);const s=[n],i=document.getElementById("nav"),a=document.getElementById("main"),l=document.getElementById("content"),r=document.getElementById("form-pop-up"),m=document.getElementById("details-pop-up");function p(){i.innerHTML="";const e=document.createElement("li");e.textContent="Projects",e.classList.add("projects-heading"),i.appendChild(e),s.forEach((e=>{const t=document.createElement("li");t.textContent=e.name,e===d&&t.classList.add("active-project"),t.addEventListener("click",(()=>{const n=document.querySelector(".active-project");n&&n.classList.remove("active-project"),t.classList.add("active-project"),d=e,u(e)})),i.appendChild(t)}))}function u(e){a.innerHTML="";const t=document.createElement("div");t.classList.add("todoAdd"),t.textContent="Add todo",t.addEventListener("click",(()=>E("on",h(r,"on")))),a.appendChild(t),e.todos.forEach((t=>{const n=document.createElement("div");switch(n.classList.add("todo"),t.priority){case"high":n.classList.add("high");break;case"medium":n.classList.add("medium");break;case"low":n.classList.add("low")}const d=document.createElement("div");d.textContent=t.title;const o=document.createElement("div");o.classList.add("todoDetails"),o.textContent="Details",o.addEventListener("click",(()=>function(e,t,n){m.innerHTML="";const d=document.createElement("div");d.textContent=e;const o=document.createElement("div");o.textContent=t;const c=document.createElement("div");c.textContent=n;const s=document.createElement("div");s.classList.add("todoExit"),s.textContent="❌",s.addEventListener("click",(()=>E("off",h(m,"off")))),m.appendChild(d),m.appendChild(o),m.appendChild(c),m.appendChild(s),E("on",h(m,"on"))}(t.title,t.description,t.dueDate)));const c=document.createElement("div");c.textContent=t.dueDate;const s=document.createElement("div");s.classList.add("todoDelete"),s.textContent="Delete",s.addEventListener("click",(()=>function(e,t){e&&t&&(e.removeTodo(t),u(e))}(e,t))),n.appendChild(d),n.appendChild(o),n.appendChild(c),n.appendChild(s),a.appendChild(n)}))}function h(e,t){e.style.display="on"===t?"block":"none"}function E(e,t){"on"===e?(document.body.style.backdropFilter="blur(1rem)",l.style.filter="blur(1rem)"):(document.body.style.backdropFilter="",l.style.filter="")}const f=document.getElementById("mainHeader"),v=document.getElementById("form-pop-up"),C=document.getElementById("add-todo");p(),u(n);const L=document.createElement("div");L.classList.add("formCancel"),L.textContent="❌",L.addEventListener("click",(()=>E("off",h(v,"off")))),v.appendChild(L),C.addEventListener("submit",(e=>{e.preventDefault();let n,o=document.getElementById("todo-title"),c=document.getElementById("todo-details"),s=document.getElementById("todo-date"),i=document.getElementsByName("priority");for(const e of i)if(e.checked){n=e.value;break}!function(e,n,d,o,c){if(e){const s=new t(n,d,o,c);e.addTodo(s),u(e)}}(d,o.value,c.value,s.value,n),E("off",h(v,"off")),C.reset()}));const y=document.createElement("div");y.classList.add("projectAdd"),y.textContent="New Project",y.addEventListener("click",(()=>{const t=prompt("Enter the name of the new project:");if(t){const n=new e(t);s.push(n),p()}})),f.appendChild(y)})();